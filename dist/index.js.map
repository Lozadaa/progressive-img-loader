{"version":3,"file":"index.js","sources":["../src/utils/Utils.js","../src/styles.js","../src/components/styles.js","../src/components/Image.jsx","../src/index.js"],"sourcesContent":["export function loadImage(src, callback){\n  if(src){\n    let image = new Image();\n    image.onload = function () {\n      if(callback){\n        callback(src);\n      }\n    }\n    image.src = src;\n  }\n}\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme) => ({\n\n  defaultImageClass: {\n    width: \"300px\",\n    height: \"300px\"\n  }\n}));\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  loading: {\n    filter: \"blur(20px)\"\n  }\n}));\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useStyles } from \"./styles\";\nimport clsx from \"clsx\";\nimport {Animate} from \"react-simple-animate\";\n\nexport const Image = (props) => {\n  const {src, alt, transitionTime = 2, className, isPreview} = props;\n  const classes = useStyles();\n  const classPreview = isPreview ? classes.loading : '';\n  const filterWithBlur = {filter: 'blur(5px)' };\n  const filterWithoutBlur = {filter: 'blur(0)' };\n  return (\n    <Animate\n      play={true}\n      duration={transitionTime}\n      start={filterWithBlur}\n      end={filterWithoutBlur}\n    >\n      <img src={src} alt={alt} className={clsx(classPreview, className)}/>\n    </Animate>);\n}\n\n\n\n","import React, {useEffect, useState} from \"react\";\nimport * as Utils from \"./utils/Utils.js\"\nimport PropTypes from \"prop-types\";\nimport { useStyles } from \"./styles\";\nimport {Image} from \"./components/Image.jsx\";\n\nexport const ImageLoader = (props) => {\n  const { src, srcPreview, alt, loader, className } = props;\n  const [originalImage, setOriginalImage] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const classes = useStyles();\n  useEffect(() => {\n    if(!previewImage){\n      Utils.loadImage(srcPreview, (src) => setPreviewImage(src));\n    }\n    if(!originalImage){\n      Utils.loadImage(src, (src) => setOriginalImage(src));\n    }\n\n  }, [])\n\n  const isPreloader = !previewImage && !originalImage && loader;\n  const isPossibleLoadThumbnail = previewImage && !originalImage\n\n  return (\n    <React.Fragment>\n      <h1>Loader</h1>\n        { isPreloader && loader }\n        { isPossibleLoadThumbnail && <Image alt={alt} src={previewImage} isPreview={true} className={className ? className : classes.defaultImageClass} /> }\n        { originalImage && <Image alt={alt} src={originalImage} isPreview={false} className={className ? className : classes.defaultImageClass} /> }\n    </React.Fragment>\n  );\n\n}\n\nImageLoader.propTypes = {\n  src: PropTypes.string.isRequired,\n  srcPreview: PropTypes.string,\n  loader: PropTypes.element,\n  alt: PropTypes.string,\n  className: PropTypes.string,\n}\n"],"names":["loadImage","src","callback","image","Image","onload","useStyles","makeStyles","theme","defaultImageClass","width","height","loading","filter","props","alt","transitionTime","className","isPreview","classes","classPreview","filterWithBlur","filterWithoutBlur","React","Animate","clsx","ImageLoader","srcPreview","loader","useState","originalImage","setOriginalImage","previewImage","setPreviewImage","useEffect","Utils","isPreloader","isPossibleLoadThumbnail","propTypes","PropTypes","string","isRequired","element"],"mappings":"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"}